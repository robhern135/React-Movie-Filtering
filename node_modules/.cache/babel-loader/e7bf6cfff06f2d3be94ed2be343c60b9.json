{"ast":null,"code":"import _asyncToGenerator from\"/Users/robhern/Documents/SITES/Experiments/react-movie-filtering/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/robhern/Documents/SITES/Experiments/react-movie-filtering/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/robhern/Documents/SITES/Experiments/react-movie-filtering/node_modules/@babel/runtime/regenerator/index.js\";import\"./App.css\";import{useEffect,useState}from\"react\";import Movie from\"./components/Movie\";import Filter from\"./components/Filter\";import{motion,AnimatePresence}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),popular=_useState2[0],setPopular=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filtered=_useState4[0],setFiltered=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),activeGenre=_useState6[0],setActiveGenre=_useState6[1];useEffect(function(){fetchPopular();},[]);var fetchPopular=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var API_KEY,POPULAR_URL,data,movies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:API_KEY=process.env.REACT_APP_API_KEY;POPULAR_URL=\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(API_KEY,\"&language=en-US&page=1\");_context.next=4;return fetch(POPULAR_URL);case 4:data=_context.sent;_context.next=7;return data.json();case 7:movies=_context.sent;setPopular(movies.results);setFiltered(movies.results);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchPopular(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Filter,{popular:popular,setFiltered:setFiltered,activeGenre:activeGenre,setActiveGenre:setActiveGenre}),/*#__PURE__*/_jsx(motion.div,{layout:true,className:\"popular-movies\",children:filtered.map(function(movie){return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(Movie,{movie:movie},movie.id)});})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","Movie","Filter","motion","AnimatePresence","App","popular","setPopular","filtered","setFiltered","activeGenre","setActiveGenre","fetchPopular","API_KEY","process","env","REACT_APP_API_KEY","POPULAR_URL","fetch","data","json","movies","results","map","movie","id"],"sources":["/Users/robhern/Documents/SITES/Experiments/react-movie-filtering/src/App.js"],"sourcesContent":["import \"./App.css\"\nimport { useEffect, useState } from \"react\"\n\nimport Movie from \"./components/Movie\"\nimport Filter from \"./components/Filter\"\n\nimport { motion, AnimatePresence } from \"framer-motion\"\n\nfunction App() {\n  const [popular, setPopular] = useState([])\n  const [filtered, setFiltered] = useState([])\n  const [activeGenre, setActiveGenre] = useState(0)\n\n  useEffect(() => {\n    fetchPopular()\n  }, [])\n\n  const fetchPopular = async () => {\n    const API_KEY = process.env.REACT_APP_API_KEY\n    const POPULAR_URL = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    const data = await fetch(POPULAR_URL)\n\n    const movies = await data.json()\n\n    setPopular(movies.results)\n    setFiltered(movies.results)\n  }\n\n  return (\n    <div className=\"App\">\n      <Filter\n        popular={popular}\n        setFiltered={setFiltered}\n        activeGenre={activeGenre}\n        setActiveGenre={setActiveGenre}\n      />\n      <motion.div layout className=\"popular-movies\">\n        {filtered.map((movie) => {\n          return (\n            <AnimatePresence>\n              <Movie key={movie.id} movie={movie} />\n            </AnimatePresence>\n          )\n        })}\n      </motion.div>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"qcAAA,MAAO,WAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CAEA,OAASC,MAAT,CAAiBC,eAAjB,KAAwC,eAAxC,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAsCT,QAAQ,CAAC,CAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eAEAZ,SAAS,CAAC,UAAM,CACda,YAAY,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,YAAY,0FAAG,uKACbC,OADa,CACHC,OAAO,CAACC,GAAR,CAAYC,iBADT,CAEbC,WAFa,8DAEuDJ,OAFvD,iDAGAK,CAAAA,KAAK,CAACD,WAAD,CAHL,QAGbE,IAHa,qCAKEA,CAAAA,IAAI,CAACC,IAAL,EALF,QAKbC,MALa,eAOnBd,UAAU,CAACc,MAAM,CAACC,OAAR,CAAV,CACAb,WAAW,CAACY,MAAM,CAACC,OAAR,CAAX,CARmB,uDAAH,kBAAZV,CAAAA,YAAY,0CAAlB,CAWA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EACE,OAAO,CAAEN,OADX,CAEE,WAAW,CAAEG,WAFf,CAGE,WAAW,CAAEC,WAHf,CAIE,cAAc,CAAEC,cAJlB,EADF,cAOE,KAAC,MAAD,CAAQ,GAAR,EAAY,MAAM,KAAlB,CAAmB,SAAS,CAAC,gBAA7B,UACGH,QAAQ,CAACe,GAAT,CAAa,SAACC,KAAD,CAAW,CACvB,mBACE,KAAC,eAAD,wBACE,KAAC,KAAD,EAAsB,KAAK,CAAEA,KAA7B,EAAYA,KAAK,CAACC,EAAlB,CADF,EADF,CAKD,CANA,CADH,EAPF,GADF,CAmBD,CAED,cAAepB,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}